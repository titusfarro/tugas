<script>

    let pilihan = 0
    const keranjang = []
    const fruits = [
        ['apel', 10, 10000 ],
        ['jeruk', 5, 5000],     
        ['nanas', 8, 5000], 
        ['kiwi', 7, 5000], 
        ['melon', 9, 5000], 
]

function daftarbuah()
{
    let infoBuah = ''
            for(let i = 0; i < fruits.length; i++)
            {
             infoBuah += `Buah ${fruits[i][0]} Total Stock ${fruits[i][1]} Harga Rp.${fruits[i][2]} \n`
            }
            alert(infoBuah)
        }

function tambahbuah()
{
    let temp = []
        
            let buah = prompt('Silahkan ketik nama buah yang ingin dibeli:') 
            
            for(let i = 0 ; i < fruits.length; i++)
            {
               temp.push(fruits[i][0]) 
               
            }

             
            if(!temp.includes(buah))
            
            
            {
                alert('buah tidak ditemukan')
            }
            if(!keranjang.includes(buah))
            {
                keranjang.push(buah) 
                
            }
}
function hapusbuah()
{
    let Cart = keranjang.length? keranjang.join(', '): ''

            let deletedFruits = prompt('Buah apa yang ingin dihapus? \n Daftar keranjang : ' 
            + Cart)

            if(!keranjang.includes(deletedFruits))
            {
              alert(deletedFruits  + ' tidak ditemukan')
            }
            else
            {
                keranjang.splice(keranjang.indexOf(deletedFruits),1)
            }
}
function belibuah()
{
    let qty = 0
            let TotalHarga = 0
            let show  = ''
             
             
            
             
            for(let i=0;i < keranjang.length; i++)
            {
            qty = prompt(`Berapa qty buah ${keranjang[i]} yang ingin dibeli?` )
             
                for(let k = 0 ; k < fruits.length; k++)
                {
                if( fruits[k].includes(keranjang[i]) )
                {
                    let hargaSatuan = fruits[k][2];

                show +=  `Buah ${keranjang[i]} qty ${qty} @Harga Rp.${hargaSatuan} Total Rp.${qty *hargaSatuan} \n`
                
                TotalHarga += qty * hargaSatuan 



              }              
            }
            }            
            let check = prompt( `Apakah Anda Yakin Membeli \n ${show} Total Harga : Rp${TotalHarga} \n 1. Ya \n 2. No`  )
            if(check == 1){
                pilihan = 5
            }
}


    while (pilihan != 5) {
        
        pilihan = prompt(`
         1. Menampilkan daftar buah2 \n
         2. Menambah buah \n 
         3. Menghapus buah \n
         4. Membeli buah \n 
         5. Exit`)

         
        if(pilihan == 1)
        {
            daftarbuah(fruits)
        
        }
        else if (pilihan == 2)
        {
            tambahbuah(keranjang)
            
        }

        else if(pilihan == 3)
        {
            hapusbuah(keranjang)
            
        }
        else if(pilihan == 4 )
        {
            belibuah(keranjang)

        }

    }


</script>


